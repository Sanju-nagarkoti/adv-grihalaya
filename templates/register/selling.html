{% extends "main/base.html" %}

{% load static %}

{% block title %}Selling{% endblock title %}

{% block css %}


{{ block.super }}

<link rel="stylesheet" href="{% static "css/selling.css" %}">

{% endblock css %}

{% block content %}

<div class="main">
    <h1>Properties For Rent</h1>
    <br>
    <div class="guide">
    <div class="guidelines">
      <h2>Guidelines for Listing Properties</h2>
      <ul>
          <li><strong>Location:</strong> Provide a precise address, including landmarks if possible.</li>
          <li><strong>Price:</strong> Set a reasonable price based on the market value and property condition.</li>
          <li><strong>Description:</strong> Include details like the size, number of rooms, amenities, and any special features.</li>
          <li><strong>Images:</strong> Upload high-quality, clear images that showcase the property from different angles.</li>
          <li>Ensure the details are accurate to build trust with potential buyers or renters.</li>
      </ul>
    </div>
  </div>
      
      <button class="add-property-button" onclick="openModal()">Add Property</button>
    <div class="modal" id="propertyModal">
      <div class="modal-content">
          <span class="close" onclick="closeModal()">&times;</span>
          <h2>Add New Property</h2>
          <input type="text" id="title" placeholder="Enter title">
          <input type="text" id="location" placeholder="Enter Location">
          <input type="text" id="price" placeholder="Enter Price">
          <label for="images">Upload Images:</label><br>
          <input type="file" id="images" name="images" accept="image/*" multiple required><br>
          
          <textarea id="description" placeholder="Enter Description"></textarea>
          <button class="rent-button" onclick="addProperty()">Add Property</button>
      </div>
    </div>
  </div>
  <script>
    // Open the modal
    function openModal() {
        document.getElementById('propertyModal').style.display = 'flex';
    }

    // Close the modal
    function closeModal() {
        document.getElementById('propertyModal').style.display = 'none';
    }

    // Function to add a new property
    function addProperty() {
        const title = document.getElementById('title').value;
        const location = document.getElementById('location').value;
        const price = document.getElementById('price').value;
        const image = document.getElementById('image').value;
        const description = document.getElementById('description').value;

        if (title && location && price && image && description) {
            const container = document.getElementById('property-container');
            const newProperty = document.createElement('div');
            newProperty.classList.add('property-box');
            newProperty.innerHTML = `
                <img src="${image}" alt="Property Image">
                <div class="property-title">${title}</div>
                <div class="property-title">${location}</div>
                <div class="property-price">Price: ${price}</div>
                <div>${description}</div>
                <button class="rent-button">Send Rent Request</button>
            `;
            container.appendChild(newProperty);

            // Close the modal after adding the property
            closeModal();

            // Clear the input fields
            document.getElementById('title').value = '';
            document.getElementById('location').value = '';
            document.getElementById('price').value = '';
            document.getElementById('image').value = '';
            document.getElementById('description').value = '';
        } else {
            alert('Please fill out all fields!');
        }
    }

    // Close the modal when clicking outside of the modal content
    window.onclick = function(event) {
        const modal = document.getElementById('propertyModal');
        if (event.target === modal) {
            closeModal();
        }
    }
</script>

{% endblock content %}


