{% extends "main/base.html" %}

{% load static %}

{% block title %}About Me{% endblock title %}

{% block content %}
<div class="container mt-4">
    <h2>User Information</h2>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="first_name">First Name</label>
            <input type="text" class="form-control" id="first_name" name="first_name" value="{{ user.first_name }}">
        </div>
        <div class="form-group">
            <label for="last_name">Last Name</label>
            <input type="text" class="form-control" id="last_name" name="last_name" value="{{ user.last_name }}">
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}">
        </div>
        <button type="submit" name="update_info" class="btn btn-primary mt-2">Update Information</button>
    </form>

    <hr>

    {% comment %} <h2>Change Password</h2>
    <form method="post">
        {% csrf_token %}
        {{ password_form.as_p }}
        <button type="submit" name="change_password" class="btn btn-primary mt-2">Change Password</button>
    </form> {% endcomment %}

    {% if messages %}
    <script>
        {% for message in messages %}
            Swal.fire({
                title: '{% if message.tags == "error" %}Error{% else %}Success{% endif %}',
                text: '{{ message }}',
                icon: '{% if message.tags == "error" %}error{% else %}success{% endif %}',
                confirmButtonText: 'OK'
            });
        {% endfor %}
    </script>
    {% endif %}
</div>
{% endblock content %}